<!-- Docemio - Single-file HTML app for GitHub Pages
  Instructions:
  - Save this file as index.html in your GitHub Pages repo (e.g. docemio.github.io)
  - Put the menu image in the same folder and rename it to `cardapio.jpg` (or change the <img> src below)
  - The app opens WhatsApp to send the order to +55 24 9 9300-1629 (Docemio number taken from the supplied menu image)

  Features implemented:
  - Home screen with Docemio visual identity (beige background, brown typography) and a large logo area
  - Buttons: Quem Somos, Cardápio, Cardápio do Dia (Cardápio do Dia links to the provided external GitHub Pages page)
  - Cardápio page with attached image and a "Monte o seu" box to configure donuts
  - Pricing & rules implemented (massas, recheios, coberturas, confeitos, add-ons prices, max 2 recheios with exceptions)
  - Checklist to collect configured donuts and enforce minimum order of 4 units
  - "Peça aqui" button opens WhatsApp with a pre-filled message containing order details and totals
-->

<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Docemio — Monte seu Donut</title>
<!-- Favicon padrão -->
<link rel="icon" type="image/png" sizes="32x32" href="logo-docemio.png">
<link rel="icon" type="image/png" sizes="16x16" href="logo-docemio.png">

<!-- Atalho em iPhone/iPad -->
<link rel="apple-touch-icon" sizes="180x180" href="logo-docemio.png">

<!-- Ícone para Android/Chrome -->
<link rel="icon" type="image/png" sizes="192x192" href="logo-docemio.png">
<link rel="icon" type="image/png" sizes="512x512" href="logo-docemio.png">

<!-- Manifest (opcional, se quiser transformar em PWA depois) -->
<link rel="manifest" href="manifest.json">

  <style>
    :root{
      --bg:#f6e7d2; /* soft beige */
      --panel:#f4eadc;
      --accent:#5a341b; /* brown */
      --muted:#a07b56;
      --card:#fff7ef;
      --glass: rgba(255,255,255,0.6);
    }
    body {
  margin: 0;
  background-image: url("fundo.png");
  background-size: cover;
  background-repeat: no-repeat;
  background-attachment: fixed;
  background-position: center;
  color: var(--accent);
}

    /* Header / Logo */
    header{display:flex;align-items:center;gap:20px}
    .logo-area{flex:1;display:flex;flex-direction:column;align-items:center}
    .logo-big{font-size:48px;font-weight:700;letter-spacing:2px}
    .subtitle{font-size:18px;margin-top:6px}

    /* Navigation buttons */
    .nav{display:flex;gap:12px;justify-content:center;margin:18px 0}
    .btn{background:linear-gradient(180deg,var(--card),var(--panel));border:2px solid rgba(90,52,27,0.12);padding:12px 18px;border-radius:10px;cursor:pointer;font-weight:700;color:var(--accent)}
    .btn.secondary{font-weight:600;font-size:14px}

    /* Pages */
    .page{display:none}
    .page.active{display:block}

    /* Cardapio layout */
    .menu-grid{display:grid;grid-template-columns:1fr 1fr;gap:22px;margin-top:12px}
    .menu-image{border-radius:8px;box-shadow:0 6px 18px rgba(0,0,0,0.08);width:100%;height:auto}

    /* Monte o seu box */
    .builder{background:linear-gradient(180deg,var(--panel),#fff);padding:18px;border-radius:12px;border:1px solid rgba(90,52,27,0.06);}
    .builder h3{margin:0 0 12px 0;text-align:center}
    .row{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:12px}
    .field{flex:1;min-width:180px}
    select,multi-select,input[type=number]{width:100%;padding:8px;border-radius:6px;border:1px solid rgba(90,52,27,0.12);}
    label{display:block;margin-bottom:6px;font-weight:600}
    .small{font-size:14px;color:var(--muted)}

    /* Checklist */
    .checklist{margin-top:16px;border-top:1px dashed rgba(90,52,27,0.06);padding-top:12px}
    .list{list-style:none;padding:0;margin:0}
    .list li{background:var(--card);padding:10px;border-radius:8px;margin-bottom:8px;border:1px solid rgba(90,52,27,0.04)}

    .totals{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
    .order-actions{display:flex;gap:10px}
    .whatsapp{background:#25D366;color:white;padding:10px 14px;border-radius:10px;border:none;font-weight:700;cursor:pointer}
    .disabled{opacity:0.45;pointer-events:none}

    /* Quem somos */
    .story{background:var(--panel);padding:18px;border-radius:10px}

    /* responsive */
    @media(max-width:820px){
      .menu-grid{grid-template-columns:1fr}
      .logo-big{font-size:36px}
    }
.logo-fixa-esq, .logo-fixa-dir {
  position: fixed;
  top: 10px;
  width: 120px;
  max-width: 25vw;   /* nunca ocupa mais que 25% da largura da tela */
  height: auto;
  z-index: 1000;
}

.logo-fixa-esq { left: 10px; }
.logo-fixa-dir { right: 10px; }

/* Em telas pequenas (celular) diminui ainda mais */
@media(max-width: 600px) {
  .logo-fixa-esq, .logo-fixa-dir {
    width: 80px;
    max-width: 30vw;
  }
}

  
/* Carrossel HOME */
.slider {
  overflow: hidden;
  position: relative;
  width: 100%;
  max-width: 100%;
  height: 240px;
  margin: 20px auto;
  border: 4px solid #c57a52;
  border-radius: 12px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.15);
}
.slide-track {
  display: flex;
  width: calc(240px * 20);
  animation: scroll 90s linear infinite;
}
.slide {
  width: 240px;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}
.slide img {
  width: 200px;
  height: auto;
  border-radius: 12px;
  border: 2px solid #eee;
}
@keyframes scroll {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

</style>
</head>
<body>
<!-- Logo canto esquerdo -->
<img src="logo-docemio.png" alt="Docemio Logo" class="logo-fixa-esq">

<!-- Logo canto direito -->
<img src="logo-docemio.png" alt="Docemio Logo" class="logo-fixa-dir">
  <div class="container">
    <header>
      <div class="logo-area">
        <div class="logo-big">DOCEMIO</div>
        <div class="subtitle">Donuts Artesanais</div>
      </div>
      <div style="text-align:right">
        <!-- decorative donuts could be added here as <img> elements -->
      </div>
    </header>

    <nav class="nav">
      <button class="btn" data-target="home">Home</button>
      <button class="btn secondary" data-target="quem">Quem Somos</button>
      <button class="btn secondary" data-target="cardapio">Cardápio</button>
      <a class="btn secondary" href="https://docemio.github.io/Cardapio-do-dia-Docemio/" target="_blank">Cardápio do Dia</a>
    </nav>

    <!-- Pages -->
    <main>
      
<section id="home" class="page active">
  <div class="story" style="text-align:center">
    <h2>Bem-vindo à Docemio</h2>
    <p class="small">Monte seus donuts artesanais e faça seu pedido pelo WhatsApp. Rápido, simples e com o gostinho caseiro que você conhece.</p>
  </div>

  <!-- Carrossel automático -->
  <div class="slider">
    <div class="slide-track">
      <div class="slide"><img src="img1.jpg" alt="Donut 1"></div>
      <div class="slide"><img src="img2.jpg" alt="Donut 2"></div>
      <div class="slide"><img src="img3.jpg" alt="Donut 3"></div>
      <div class="slide"><img src="img4.jpeg" alt="Donut 4"></div>
      <div class="slide"><img src="img5.jpg" alt="Donut 5"></div>
      <div class="slide"><img src="img7.jpg" alt="Donut 6"></div>
      <div class="slide"><img src="img8.jpg" alt="Donut 7"></div>
      <div class="slide"><img src="img9.jpg" alt="Donut 8"></div>
      <div class="slide"><img src="img10.jpg" alt="Donut 9"></div>
      <div class="slide"><img src="img11.jpg" alt="Donut 10"></div>

      <!-- repetição para loop contínuo -->
      <div class="slide"><img src="img1.jpg" alt="Donut 1"></div>
      <div class="slide"><img src="img2.jpg" alt="Donut 2"></div>
      <div class="slide"><img src="img3.jpg" alt="Donut 3"></div>
      <div class="slide"><img src="img4.jpeg" alt="Donut 4"></div>
      <div class="slide"><img src="img5.jpg" alt="Donut 5"></div>
      <div class="slide"><img src="img7.jpg" alt="Donut 6"></div>
      <div class="slide"><img src="img8.jpg" alt="Donut 7"></div>
      <div class="slide"><img src="img9.jpg" alt="Donut 8"></div>
      <div class="slide"><img src="img10.jpg" alt="Donut 9"></div>
      <div class="slide"><img src="img11.jpg" alt="Donut 10"></div>
    </div>
  </div>
</section>


      <section id="quem" class="page">
        <div class="story">
          <h2>Quem Somos</h2>
          <p>Docemio nasceu do amor por sabores clássicos e combinações criativas. Começamos como uma pequena produção caseira e fomos conquistando vizinhos e amigos com receitas balanceadas, ingredientes selecionados e acabamento artesanal. Trabalhamos diariamente buscando a melhor textura na massa e cremes com ingredientes de qualidade. Nossa missão é transformar momentos simples em memórias gostosas — um donut por vez.</p>
          <p class="small"><strong>Como trabalhamos:</strong> Produção artesanal em pequenas fornadas, ingredientes selecionados, atenção ao detalhe e atendimento personalizado para eventos e encomendas.</p>
        </div>
      </section>

      <section id="cardapio" class="page">
        <div style="display:flex;flex-direction:column;gap:12px">
          <div class="menu-grid">
            <div>
              <!-- Replace the src below with your uploaded menu image filename (cardapio.jpg) -->
              <img src="cardapio.jpg" alt="Cardápio Docemio" class="menu-image">
              <p class="small">*“Para melhor organização e qualidade no atendimento, trabalhamos apenas com pedidos efetuados com antecedência mínima de 24 horas.”.</p>
            </div>

            <div>
              <div class="builder">
                <h3>MONTE O SEU</h3>
                <div class="row">
                  <div class="field">
                    <label>Massa (R$4,00)</label>
                    <select id="massa">
                      <option value="Baunilha|4">Baunilha</option>
                      <option value="Chocolate|4">Chocolate</option>
                      <option value="Red Velvet|4">Red Velvet</option>
                      <option value="Churros|4">Churros</option>
                      <option value="Oreo|5">Oreo (+R$1,00)</option> 
                    </select>
                  </div>
                  <div class="field">
                    <label>Recheios (R$2,00 cada)</label>
                    <div id="recheios">
                      <!-- checkboxes will be injected by JS for better control -->
                    </div>
                    <div class="small">Escolha até 2 recheios. Exceções: Mousse de Ninho, Limão Siciliano e Nozes só podem ser escolhidos sozinhos (não contam no limite de 2 quando sozinhos).</div>
                  </div>
                </div>

                <div class="row">
                  <div class="field">
                    <label>Cobertura</label>
                    <select id="cobertura">
                      <option value="Chocolate Preto|0">Chocolate Preto</option>
                      <option value="Chocolate Branco|0">Chocolate Branco</option>
                      <option value="Crocante|0">Crocante</option>
                    </select>
                  </div>
                  <div class="field">
                    <label>Confeito (+R$1,00)</label>
                    <select id="confeito">
                      <option value="Nenhum|0">Nenhum</option>
                      <option value="Granulado chocolate|0">Granulado chocolate</option>
                      <option value="Granulados diversos|0">Granulados diversos</option>
                      <option value="Bombom|0.5">Bombom (+R$0,50)</option>
                      <option value="Kit-Kat|0.5">Kit-Kat (+R$0,50)</option>
                      <option value="Kinder Bueno|1">Kinder Bueno (+R$1)</option>
                    </select>
                  </div>
                </div>

                <div class="row" style="align-items:center">
                  <div style="flex:1">
                    <label>O pedido só pode ser finalizado com um mínimo de 4 unidades.</label>
                    <input type="number" id="quantidade" value="1" min="1">
                  </div>
                  <div style="width:160px;display:flex;flex-direction:column;gap:8px;justify-content:flex-end">
                    <button class="btn" id="adicionar">Adicionar ao checklist</button>
                    <button class="btn" id="limpar">Limpar seleção</button>
                  </div>
                </div>

                <div class="checklist">
                  <h4>Checklist</h4>
                  <ul id="lista" class="list"></ul>

                  <div class="totals">
                    <div class="small">Total itens: <span id="totalItens">0</span></div>
                    <div><strong>R$ <span id="totalPreco">0,00</span></strong></div>
                  </div>

                  <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center">
                    <div class="small">Pedido mínimo: 4 unidades</div>
                    <div class="order-actions">
                      <button class="btn" id="resetAll">Remover todos</button>
                      <button class="whatsapp disabled" id="pedidoBtn">Peça aqui via WhatsApp</button>
                    </div>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </div>
      </section>

    </main>

  </div>

  <script>
    // Data
    const WHATSAPP_NUMBER = '+5524993001629'; // Docemio number (country code +55)

    const recheiosList = [
      {name:'Kinder Bueno',price:2,extra:0},
      {name:'Doce de Leite Gourmet',price:2,extra:0},
      {name:'Maracujá',price:2,extra:0},
      {name:'Bala Baiana',price:2,extra:0},
      {name:'Mousse de Chocolate',price:2,extra:0},
      {name:'Mousse de Ninho',price:2,extra:1, special:true},
      {name:'Ninho',price:2,extra:0},
      {name:'Nutella',price:2,extra:0},
      {name:'Cajuzinho',price:2,extra:0},
      {name:'Frutas Vermelhas (Geleia)',price:2,extra:0},
      {name:'Cream Cheese',price:2,extra:0},
      {name:'Nozes',price:2,extra:1, special:true},
      {name:'Limão Siciliano',price:2,extra:1, special:true}
    ];

    // Build recheios checkboxes
    const recheiosDiv = document.getElementById('recheios');
    recheiosList.forEach((r, idx)=>{
      const id = 'r'+idx;
      const wrapper = document.createElement('div');
      wrapper.style.marginBottom='6px';
     wrapper.innerHTML = `<label style="font-weight:500">
  <input type="checkbox" data-idx="${idx}" id="${id}" ${r.disabled ? "disabled" : ""}>
  ${r.name} ${r.extra ? "(+R$1)" : ""} ${r.disabled ? " — Esgotado" : ""}
</label>`;
      recheiosDiv.appendChild(wrapper);
    });

    // State
    let checklist = [];

    // Helpers
    function formatMoney(n){
      return n.toFixed(2).replace('.',',');
    }

    function calcItemPrice(config){
      // massa price: parse after | in value
      const massaParts = config.massa.split('|');
      const massaPrice = Number(massaParts[1]);
      const massaName = massaParts[0];

      let price = massaPrice;
      // cobertura has price 0
      // confeito price after |
      const confParts = config.confeito.split('|');
      const confPrice = Number(confParts[1]);

      // recheios
      let recheiosPrice = 0;
      config.recheios.forEach(rname=>{
        // find in list
        const r = recheiosList.find(x=>x.name===rname);
        if(r){
          recheiosPrice += r.price + (r.extra||0);
        }
      });

      price += recheiosPrice + confPrice;
      price *= config.quantidade; // multiply by quantity of same configured item
      return price;
    }

    function renderList(){
      const ul = document.getElementById('lista'); ul.innerHTML='';
      let total = 0; let totalItems = 0;
      checklist.forEach((c, i)=>{
        const li = document.createElement('li');
        const price = calcItemPrice(c);
        total += price; totalItems += Number(c.quantidade);
        li.innerHTML = `<div style="display:flex;justify-content:space-between;align-items:center"><div>
          <strong>${c.massa.split('|')[0]}</strong> — ${c.recheios.join(', ')||'Sem recheio'}<br>
          <span class=\"small\">Cobertura: ${c.cobertura.split('|')[0]} • Confeito: ${c.confeito.split('|')[0]} • Qtd: ${c.quantidade}</span>
        </div>
        <div style="text-align:right"><div>R$ ${formatMoney(price)}</div><button data-i="${i}" class=\"btn\">Remover</button></div></div>`;
        ul.appendChild(li);
      });

      document.getElementById('totalPreco').textContent = formatMoney(total);
      document.getElementById('totalItens').textContent = totalItems;

      // enable WhatsApp button only if >=4 items
      const pedidoBtn = document.getElementById('pedidoBtn');
      if(totalItems >=4){ pedidoBtn.classList.remove('disabled'); } else { pedidoBtn.classList.add('disabled'); }

      // attach remove handlers
      document.querySelectorAll('#lista button').forEach(btn=>{
        btn.addEventListener('click', e=>{
          const idx = Number(e.currentTarget.dataset.i);
          checklist.splice(idx,1); renderList();
        })
      });
    }

    document.getElementById('adicionar').addEventListener('click', ()=>{
      // gather selections, validate recheios rules
      const massa = document.getElementById('massa').value;
      const cobertura = document.getElementById('cobertura').value;
      const confeito = document.getElementById('confeito').value;
      const quantidade = Number(document.getElementById('quantidade').value) || 1;

      const checked = Array.from(document.querySelectorAll('#recheios input[type=checkbox]:checked')).map(cb=>recheiosList[Number(cb.dataset.idx)].name);

      // rule: up to 2 recheios, except special ones (Mousse de Ninho, Limão Siciliano, Nozes)
      const specials = ['Mousse de Ninho','Limão Siciliano','Nozes'];
      const specialsChosen = checked.filter(c=>specials.includes(c));

      if(checked.length > 2){
        alert('Escolha no máximo 2 recheios (com exceções para Mousse de Ninho, Limão Siciliano e Nozes).');
        return;
      }

      // If user selected a special along with another filling that is not allowed, disallow certain combos
      // Business rule interpreted: Mousse de Ninho, Limão Siciliano e Nozes are treated as "premium" (+R$1). They shouldn't be combined as 2 fillings (the user said exception: "podendo escolher até dois recheios com exceção dos, mousse de ninho, limão siciliano e nozes.")
      // We'll interpret as: those three cannot be combined with another filling (i.e., if any is chosen, it must be the only recheio). If multiple specials are chosen together it will be allowed only if count==1.
      if(specialsChosen.length > 0 && checked.length > 1){
        alert('Mousse de Ninho, Limão Siciliano e Nozes devem ser escolhidos sozinhos (sem outro recheio).');
        return;
      }

      const config = {massa, cobertura, confeito, recheios: checked, quantidade};
      checklist.push(config);
      renderList();

      // reset small selections but keep massa for convenience
      document.getElementById('confeito').value = 'Nenhum|0';
      document.querySelectorAll('#recheios input[type=checkbox]').forEach(cb=>cb.checked=false);
      document.getElementById('quantidade').value = 1;
    });

    document.getElementById('limpar').addEventListener('click', ()=>{
      document.getElementById('massa').value='Baunilha|4';
      document.getElementById('cobertura').value='Chocolate Preto|0';
      document.getElementById('confeito').value='Nenhum|0';
      document.querySelectorAll('#recheios input[type=checkbox]').forEach(cb=>cb.checked=false);
      document.getElementById('quantidade').value=1;
    });

    document.getElementById('resetAll').addEventListener('click', ()=>{if(confirm('Remover todos os itens da lista?')){checklist=[];renderList();}});

    document.getElementById('pedidoBtn').addEventListener('click', ()=>{
      const totalItems = Number(document.getElementById('totalItens').textContent);
      if(totalItems < 4){ alert('O pedido só pode ser finalizado com um mínimo de 4 unidades.'); return; }

      // build message
      let msg = `Olá Docemio! Gostaria de fazer um pedido:`;
      checklist.forEach((c, i)=>{
        const linha = `\nItem ${i+1}: ${c.quantidade}x ${c.massa.split('|')[0]} - Recheios: ${c.recheios.join(', ')||'Sem recheio'}; Cobertura: ${c.cobertura.split('|')[0]}; Confeito: ${c.confeito.split('|')[0]}`;
        msg += `\n${linha}`;
      });
      msg += `\n\nTotal de unidades: ${document.getElementById('totalItens').textContent}`;
      msg += `\nTotal R$: ${document.getElementById('totalPreco').textContent}`;
      msg += `\n\nNome: \nEndereço/Retirada: \nTelefone para contato:`;

      const waUrl = `https://wa.me/${WHATSAPP_NUMBER.replace('+','')}?text=${encodeURIComponent(msg)}`;
      window.open(waUrl,'_blank');
    });

    // Nav handling
    document.querySelectorAll('.nav .btn').forEach(b=>{
      b.addEventListener('click', e=>{
        const target = e.currentTarget.dataset.target;
        document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
        document.getElementById(target).classList.add('active');
      });
    });

    // initial render
    renderList();

  </script>
</body>
</html>
